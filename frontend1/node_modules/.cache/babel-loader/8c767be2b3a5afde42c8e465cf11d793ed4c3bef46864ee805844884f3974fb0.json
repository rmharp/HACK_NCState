{"ast":null,"code":"import { Cache } from './Cache.js';\nimport { Loader } from './Loader.js';\nimport { createElementNS } from '../utils.js';\nclass ImageLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n  }\n  load(url, onLoad, onProgress, onError) {\n    if (this.path !== undefined) url = this.path + url;\n    url = this.manager.resolveURL(url);\n    const scope = this;\n    const cached = Cache.get(url);\n    if (cached !== undefined) {\n      scope.manager.itemStart(url);\n      setTimeout(function () {\n        if (onLoad) onLoad(cached);\n        scope.manager.itemEnd(url);\n      }, 0);\n      return cached;\n    }\n    const image = createElementNS('img');\n    function onImageLoad() {\n      removeEventListeners();\n      Cache.add(url, this);\n      if (onLoad) onLoad(this);\n      scope.manager.itemEnd(url);\n    }\n    function onImageError(event) {\n      removeEventListeners();\n      if (onError) onError(event);\n      scope.manager.itemError(url);\n      scope.manager.itemEnd(url);\n    }\n    function removeEventListeners() {\n      image.removeEventListener('load', onImageLoad, false);\n      image.removeEventListener('error', onImageError, false);\n    }\n    image.addEventListener('load', onImageLoad, false);\n    image.addEventListener('error', onImageError, false);\n    if (url.slice(0, 5) !== 'data:') {\n      if (this.crossOrigin !== undefined) image.crossOrigin = this.crossOrigin;\n    }\n    scope.manager.itemStart(url);\n    image.src = url;\n    return image;\n  }\n}\nexport { ImageLoader };","map":{"version":3,"names":["Cache","Loader","createElementNS","ImageLoader","constructor","manager","load","url","onLoad","onProgress","onError","path","undefined","resolveURL","scope","cached","get","itemStart","setTimeout","itemEnd","image","onImageLoad","removeEventListeners","add","onImageError","event","itemError","removeEventListener","addEventListener","slice","crossOrigin","src"],"sources":["/Users/riley/Hack_NCState/frontend/node_modules/three/src/loaders/ImageLoader.js"],"sourcesContent":["import { Cache } from './Cache.js';\nimport { Loader } from './Loader.js';\nimport { createElementNS } from '../utils.js';\n\nclass ImageLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = createElementNS( 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\tremoveEventListeners();\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\tremoveEventListeners();\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction removeEventListeners() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.slice( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n}\n\n\nexport { ImageLoader };\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,YAAY;AAClC,SAASC,MAAM,QAAQ,aAAa;AACpC,SAASC,eAAe,QAAQ,aAAa;AAE7C,MAAMC,WAAW,SAASF,MAAM,CAAC;EAEhCG,WAAWA,CAAEC,OAAO,EAAG;IAEtB,KAAK,CAAEA,OAAQ,CAAC;EAEjB;EAEAC,IAAIA,CAAEC,GAAG,EAAEC,MAAM,EAAEC,UAAU,EAAEC,OAAO,EAAG;IAExC,IAAK,IAAI,CAACC,IAAI,KAAKC,SAAS,EAAGL,GAAG,GAAG,IAAI,CAACI,IAAI,GAAGJ,GAAG;IAEpDA,GAAG,GAAG,IAAI,CAACF,OAAO,CAACQ,UAAU,CAAEN,GAAI,CAAC;IAEpC,MAAMO,KAAK,GAAG,IAAI;IAElB,MAAMC,MAAM,GAAGf,KAAK,CAACgB,GAAG,CAAET,GAAI,CAAC;IAE/B,IAAKQ,MAAM,KAAKH,SAAS,EAAG;MAE3BE,KAAK,CAACT,OAAO,CAACY,SAAS,CAAEV,GAAI,CAAC;MAE9BW,UAAU,CAAE,YAAY;QAEvB,IAAKV,MAAM,EAAGA,MAAM,CAAEO,MAAO,CAAC;QAE9BD,KAAK,CAACT,OAAO,CAACc,OAAO,CAAEZ,GAAI,CAAC;MAE7B,CAAC,EAAE,CAAE,CAAC;MAEN,OAAOQ,MAAM;IAEd;IAEA,MAAMK,KAAK,GAAGlB,eAAe,CAAE,KAAM,CAAC;IAEtC,SAASmB,WAAWA,CAAA,EAAG;MAEtBC,oBAAoB,CAAC,CAAC;MAEtBtB,KAAK,CAACuB,GAAG,CAAEhB,GAAG,EAAE,IAAK,CAAC;MAEtB,IAAKC,MAAM,EAAGA,MAAM,CAAE,IAAK,CAAC;MAE5BM,KAAK,CAACT,OAAO,CAACc,OAAO,CAAEZ,GAAI,CAAC;IAE7B;IAEA,SAASiB,YAAYA,CAAEC,KAAK,EAAG;MAE9BH,oBAAoB,CAAC,CAAC;MAEtB,IAAKZ,OAAO,EAAGA,OAAO,CAAEe,KAAM,CAAC;MAE/BX,KAAK,CAACT,OAAO,CAACqB,SAAS,CAAEnB,GAAI,CAAC;MAC9BO,KAAK,CAACT,OAAO,CAACc,OAAO,CAAEZ,GAAI,CAAC;IAE7B;IAEA,SAASe,oBAAoBA,CAAA,EAAG;MAE/BF,KAAK,CAACO,mBAAmB,CAAE,MAAM,EAAEN,WAAW,EAAE,KAAM,CAAC;MACvDD,KAAK,CAACO,mBAAmB,CAAE,OAAO,EAAEH,YAAY,EAAE,KAAM,CAAC;IAE1D;IAEAJ,KAAK,CAACQ,gBAAgB,CAAE,MAAM,EAAEP,WAAW,EAAE,KAAM,CAAC;IACpDD,KAAK,CAACQ,gBAAgB,CAAE,OAAO,EAAEJ,YAAY,EAAE,KAAM,CAAC;IAEtD,IAAKjB,GAAG,CAACsB,KAAK,CAAE,CAAC,EAAE,CAAE,CAAC,KAAK,OAAO,EAAG;MAEpC,IAAK,IAAI,CAACC,WAAW,KAAKlB,SAAS,EAAGQ,KAAK,CAACU,WAAW,GAAG,IAAI,CAACA,WAAW;IAE3E;IAEAhB,KAAK,CAACT,OAAO,CAACY,SAAS,CAAEV,GAAI,CAAC;IAE9Ba,KAAK,CAACW,GAAG,GAAGxB,GAAG;IAEf,OAAOa,KAAK;EAEb;AAED;AAGA,SAASjB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}